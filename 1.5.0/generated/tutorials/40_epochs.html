<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Examples" href="../examples/index.html" /><link rel="prev" title="Automatic vs Manual acquisition" href="30_stream_manual.html" />

    <link rel="shortcut icon" href="../../_static/logo-no-mne.svg"/><!-- Generated with Sphinx 8.0.2 and Furo 2024.08.06 -->
        <title>Epoching a Stream in real-time - MNE-LSL</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/style.css?v=eb651fe2" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">MNE-LSL</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/logo-mne-hex.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../resources/install.html">Install</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/index.html">API References</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API References</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/most-used%20classes.html">Most-used classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/lsl%20%28low-level%29.html">LSL (low-level)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/utilities.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/legacy.html">Legacy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../resources/command_line.html">Command line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources/implementations.html">Implementation details</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="00_introduction.html">Introduction to real-time LSL streams</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_low_level_API.html">Low-level LSL API</a></li>
<li class="toctree-l2"><a class="reference internal" href="20_player_annotations.html">Player with annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="30_stream_manual.html">Automatic vs Manual acquisition</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Epoching a Stream in real-time</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../examples/index.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/00_player_separate_process.html">Replaying a file in a separate process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/10_peak_detection.html">Real-time peak detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/20_bandpower.html">Bandpower rolling window</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/30_real_time_evoked_responses.html">Real-time evoked responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/40_decode.html">Decoding real-time data</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../changes/index.html">Changelog</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Changelog</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changes/1.5.html">Version 1.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/1.4.html">Version 1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/1.3.html">Version 1.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/1.2.html">Version 1.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/1.1.html">Version 1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/1.0.html">Version 1.0</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/generated/tutorials/40_epochs.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-generated-tutorials-40-epochs-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="epoching-a-stream-in-real-time">
<span id="sphx-glr-generated-tutorials-40-epochs-py"></span><h1>Epoching a Stream in real-time<a class="headerlink" href="#epoching-a-stream-in-real-time" title="Link to this heading">🔗</a></h1>
<p>The <a class="reference internal" href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">EpochsStream</span></code></a> object can be used similarly to
<a class="reference external" href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs" title="(in MNE v1.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">mne.Epochs</span></code></a> to create epochs from a continuous stream of samples around events
of interest.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">EpochsStream</span></code></a> object is designed to work with
any <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object. At the time of writing, only
<a class="reference internal" href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamLSL</span></code></a> is available, but any object inheriting from the
abstract <a class="reference internal" href="../api/mne_lsl.stream.BaseStream.html#mne_lsl.stream.BaseStream" title="mne_lsl.stream.BaseStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseStream</span></code></a> object should work.</p>
</div>
<p>A <a class="reference internal" href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">EpochsStream</span></code></a> object support peak-to-peak rejection, baseline
correction and detrending.</p>
<section id="event-source">
<h2>Event source<a class="headerlink" href="#event-source" title="Link to this heading">🔗</a></h2>
<p>A <a class="reference internal" href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">EpochsStream</span></code></a> object requires an event source to create
epochs. 3 event sources are supported:</p>
<ul class="simple">
<li><p>a set of <code class="docutils literal notranslate"><span class="pre">'stim'</span></code> channels within the attached <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object.</p></li>
<li><p>a set of <code class="docutils literal notranslate"><span class="pre">'stim'</span></code> channels within a separate <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object.</p></li>
<li><p>an irregularly sampled <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the case of an irregularly sampled <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object, only numerical streams are
supported at the moment because interaction with <code class="docutils literal notranslate"><span class="pre">str</span></code> streams in Python is not
as performant as interaction with numerical streams.</p>
</div>
</section>
<section id="set-of-stim-channels">
<h2>Set of <code class="docutils literal notranslate"><span class="pre">'stim'</span></code> channels<a class="headerlink" href="#set-of-stim-channels" title="Link to this heading">🔗</a></h2>
<p>The set of <code class="docutils literal notranslate"><span class="pre">'stim'</span></code> channels from which the events are extracted can be either part
of the regularly sampled <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object epoched (argument <code class="docutils literal notranslate"><span class="pre">stream</span></code>) or part of a
separate regularly sampled <code class="docutils literal notranslate"><span class="pre">Stream</span></code> object (argument <code class="docutils literal notranslate"><span class="pre">event_stream</span></code>). In both case,
the channel(s) type should be <code class="docutils literal notranslate"><span class="pre">'stim'</span></code> and the channel(s) should be formatted for
<a class="reference external" href="https://mne.tools/stable/generated/mne.find_events.html#mne.find_events" title="(in MNE v1.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.find_events()</span></code></a> to correctly extract the events. The channels to consider are
provided in the argument <code class="docutils literal notranslate"><span class="pre">event_channels</span></code> and the events to consider in the argument
<code class="docutils literal notranslate"><span class="pre">event_id</span></code>. Let’s create epochs around the event ID <code class="docutils literal notranslate"><span class="pre">2</span></code> from the <code class="docutils literal notranslate"><span class="pre">'STI</span> <span class="pre">014'</span></code>
channel of MNE’s sample dataset.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">uuid</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">mne</span> <span class="kn">import</span> <a href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs" title="mne.Epochs" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class"><span class="n">Epochs</span></a><span class="p">,</span> <a href="https://mne.tools/stable/generated/mne.EpochsArray.html#mne.EpochsArray" title="mne.EpochsArray" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class"><span class="n">EpochsArray</span></a><span class="p">,</span> <a href="https://mne.tools/stable/generated/mne.annotations_from_events.html#mne.annotations_from_events" title="mne.annotations_from_events" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-function"><span class="n">annotations_from_events</span></a><span class="p">,</span> <a href="https://mne.tools/stable/generated/mne.find_events.html#mne.find_events" title="mne.find_events" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-function"><span class="n">find_events</span></a>
<span class="kn">from</span> <span class="nn">mne.io</span> <span class="kn">import</span> <a href="https://mne.tools/stable/generated/mne.io.read_raw_fif.html#mne.io.read_raw_fif" title="mne.io.read_raw_fif" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-function"><span class="n">read_raw_fif</span></a>

<span class="kn">from</span> <span class="nn">mne_lsl.datasets</span> <span class="kn">import</span> <span class="n">sample</span>
<span class="kn">from</span> <span class="nn">mne_lsl.lsl</span> <span class="kn">import</span> <a href="../api/mne_lsl.lsl.resolve_streams.html#mne_lsl.lsl.resolve_streams" title="mne_lsl.lsl.resolve_streams" class="sphx-glr-backref-module-mne_lsl-lsl sphx-glr-backref-type-py-function"><span class="n">resolve_streams</span></a>
<span class="kn">from</span> <span class="nn">mne_lsl.player</span> <span class="kn">import</span> <a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL" title="mne_lsl.player.PlayerLSL" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-class"><span class="n">PlayerLSL</span></a>
<span class="kn">from</span> <span class="nn">mne_lsl.stream</span> <span class="kn">import</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class"><span class="n">EpochsStream</span></a><span class="p">,</span> <a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class"><span class="n">StreamLSL</span></a>

<a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fname</span></a> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">data_path</span><span class="p">()</span> <span class="o">/</span> <span class="s2">&quot;mne-sample&quot;</span> <span class="o">/</span> <span class="s2">&quot;sample_audvis_raw.fif&quot;</span>
<a href="https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a> <span class="o">=</span> <a href="https://mne.tools/stable/generated/mne.io.read_raw_fif.html#mne.io.read_raw_fif" title="mne.io.read_raw_fif" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-function"><span class="n">read_raw_fif</span></a><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fname</span></a><span class="p">,</span> <span class="n">preload</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">pick</span><span class="p">((</span><span class="s2">&quot;meg&quot;</span><span class="p">,</span> <span class="s2">&quot;stim&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/uuid.html#uuid.uuid4" title="uuid.uuid4" class="sphx-glr-backref-module-uuid sphx-glr-backref-type-py-function"><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span></a><span class="p">()</span><span class="o">.</span><span class="n">hex</span>
<a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL" title="mne_lsl.player.PlayerLSL" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">player</span></a> <span class="o">=</span> <a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL" title="mne_lsl.player.PlayerLSL" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-class"><span class="n">PlayerLSL</span></a><span class="p">(</span>
    <a href="https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a><span class="p">,</span>
    <span class="n">chunk_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tutorial-epochs-1&quot;</span><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="p">,</span>
    <a href="https://mne.tools/stable/generated/mne.Annotations.html#mne.Annotations" title="mne.Annotations" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">annotations</span></a><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL.info" title="mne_lsl.player.PlayerLSL.info" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-property"><span class="n">player</span><span class="o">.</span><span class="n">info</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<details open>
    <summary><strong>General</strong></summary>
    <table class="table table-hover table-striped table-sm table-responsive small">
        <tr>
            <th>Measurement date</th>

            <td>December 03, 2002  19:01:10 GMT</td>

        </tr>
        <tr>
            <th>Experimenter</th>

            <td>MEG</td>

        </tr>
        <tr>
            <th>Participant</th>

            <td>Unknown</td>

        </tr>
    </table>
    </details>
    <details open>
        <summary><strong>Channels</strong></summary>
        <table class="table table-hover table-striped table-sm table-responsive small">
            <tr>
                <th>Digitized points</th>

                <td>146 points</td>

            </tr>
            <tr>
                <th>Good channels</th>
                <td>203 Gradiometers, 102 Magnetometers, 9 Stimulus</td>
            </tr>
            <tr>
                <th>Bad channels</th>
                <td>MEG 2443</td>
            </tr>
            <tr>
                <th>EOG channels</th>
                <td>Not available</td>
            </tr>
            <tr>
                <th>ECG channels</th>
                <td>Not available</td>
            </tr>
        </table>
        </details>
        <details open>
            <summary><strong>Data</strong></summary>
            <table class="table table-hover table-striped table-sm table-responsive small">

                <tr>
                    <th>Sampling frequency</th>
                    <td>600.61 Hz</td>
                </tr>


                <tr>
                    <th>Highpass</th>
                    <td>0.10 Hz</td>
                </tr>


                <tr>
                    <th>Lowpass</th>
                    <td>172.18 Hz</td>
                </tr>


                <tr>
                    <th>Projections</th>
                    <td>PCA-v1 : off<br />PCA-v2 : off<br />PCA-v3 : off</td>
                </tr>



            </table>
            </details>
</div>
<br />
<br /><div class="admonition note">
<p class="admonition-title">Note</p>
<p>A <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> of 200 samples is used here to ensure stability and reliability
while building the documentation on the CI. In practice, a <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> of 200
samples is too large to represent a real-time application.</p>
</div>
<p>In the cell above, a mock LSL stream is created using the <code class="docutils literal notranslate"><span class="pre">'meg'</span></code> and <code class="docutils literal notranslate"><span class="pre">'stim'</span></code>
channels of MNE’s sample dataset. Now, we need to create a
<a class="reference internal" href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamLSL</span></code></a> object connected to this mock LSL stream. The
channel <code class="docutils literal notranslate"><span class="pre">&quot;MEG</span> <span class="pre">2443&quot;</span></code> is marked as bad and the signal is filtered with a low-pass
filter.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">stream</span></a> <span class="o">=</span> <a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class"><span class="n">StreamLSL</span></a><span class="p">(</span><span class="n">bufsize</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tutorial-epochs-1&quot;</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="p">)</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.connect" title="mne_lsl.stream.StreamLSL.connect" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">stream</span><span class="o">.</span><span class="n">connect</span></a><span class="p">(</span><span class="n">acquisition_delay</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">processing_flags</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.info" title="mne_lsl.stream.StreamLSL.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">stream</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;MEG 2443&quot;</span><span class="p">]</span>  <span class="c1"># remove bad channel</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.filter" title="mne_lsl.stream.StreamLSL.filter" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">stream</span><span class="o">.</span><span class="n">filter</span></a><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">picks</span><span class="o">=</span><span class="s2">&quot;grad&quot;</span><span class="p">)</span>  <span class="c1"># filter signal</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.info" title="mne_lsl.stream.StreamLSL.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">stream</span><span class="o">.</span><span class="n">info</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<details open>
    <summary><strong>General</strong></summary>
    <table class="table table-hover table-striped table-sm table-responsive small">
        <tr>
            <th>Measurement date</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Experimenter</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Participant</th>

            <td>Unknown</td>

        </tr>
    </table>
    </details>
    <details open>
        <summary><strong>Channels</strong></summary>
        <table class="table table-hover table-striped table-sm table-responsive small">
            <tr>
                <th>Digitized points</th>

                <td>146 points</td>

            </tr>
            <tr>
                <th>Good channels</th>
                <td>203 Gradiometers, 102 Magnetometers, 9 Stimulus</td>
            </tr>
            <tr>
                <th>Bad channels</th>
                <td>MEG 2443</td>
            </tr>
            <tr>
                <th>EOG channels</th>
                <td>Not available</td>
            </tr>
            <tr>
                <th>ECG channels</th>
                <td>Not available</td>
            </tr>
        </table>
        </details>
        <details open>
            <summary><strong>Data</strong></summary>
            <table class="table table-hover table-striped table-sm table-responsive small">

                <tr>
                    <th>Sampling frequency</th>
                    <td>600.61 Hz</td>
                </tr>


                <tr>
                    <th>Highpass</th>
                    <td>0.10 Hz</td>
                </tr>


                <tr>
                    <th>Lowpass</th>
                    <td>172.18 Hz</td>
                </tr>


                <tr>
                    <th>Projections</th>
                    <td>PCA-v1 : off<br />PCA-v2 : off<br />PCA-v3 : off</td>
                </tr>



            </table>
            </details>
</div>
<br />
<br /><p>Now, we can create epochs using this stream as source for both the epochs and the
events. The <code class="docutils literal notranslate"><span class="pre">'stim'</span></code> channel <code class="docutils literal notranslate"><span class="pre">'STI</span> <span class="pre">014'</span></code> is used to extract the events and epochs
are created around the event ID <code class="docutils literal notranslate"><span class="pre">2</span></code> using the gradiometer channels. The epochs are
created around the event, from 200 ms before the event to 500 ms after the event. A
baseline correction is applied using the 200 first ms of the epoch as baseline.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">epochs</span></a> <span class="o">=</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class"><span class="n">EpochsStream</span></a><span class="p">(</span>
    <a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">stream</span></a><span class="p">,</span>
    <span class="n">bufsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>  <span class="c1"># number of epoch held in the buffer</span>
    <span class="n">event_id</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">event_channels</span><span class="o">=</span><span class="s2">&quot;STI 014&quot;</span><span class="p">,</span>
    <span class="n">tmin</span><span class="o">=-</span><span class="mf">0.2</span><span class="p">,</span>
    <span class="n">tmax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">baseline</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">picks</span><span class="o">=</span><span class="s2">&quot;grad&quot;</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">acquisition_delay</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.info" title="mne_lsl.stream.EpochsStream.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">info</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<details open>
    <summary><strong>General</strong></summary>
    <table class="table table-hover table-striped table-sm table-responsive small">
        <tr>
            <th>Measurement date</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Experimenter</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Participant</th>

            <td>Unknown</td>

        </tr>
    </table>
    </details>
    <details open>
        <summary><strong>Channels</strong></summary>
        <table class="table table-hover table-striped table-sm table-responsive small">
            <tr>
                <th>Digitized points</th>

                <td>146 points</td>

            </tr>
            <tr>
                <th>Good channels</th>
                <td>203 Gradiometers</td>
            </tr>
            <tr>
                <th>Bad channels</th>
                <td>None</td>
            </tr>
            <tr>
                <th>EOG channels</th>
                <td>Not available</td>
            </tr>
            <tr>
                <th>ECG channels</th>
                <td>Not available</td>
            </tr>
        </table>
        </details>
        <details open>
            <summary><strong>Data</strong></summary>
            <table class="table table-hover table-striped table-sm table-responsive small">

                <tr>
                    <th>Sampling frequency</th>
                    <td>600.61 Hz</td>
                </tr>


                <tr>
                    <th>Highpass</th>
                    <td>0.10 Hz</td>
                </tr>


                <tr>
                    <th>Lowpass</th>
                    <td>172.18 Hz</td>
                </tr>




            </table>
            </details>
</div>
<br />
<br /><p>Note the <code class="docutils literal notranslate"><span class="pre">bufsize</span></code> argument in the cell above. This argument controls the number of
epochs that are kept in memory. The actual size of the underlying numpy array depends
on the number of epochs, the number of samples (controlled by <code class="docutils literal notranslate"><span class="pre">tmin</span></code> and <code class="docutils literal notranslate"><span class="pre">tmax</span></code>)
and the number of channels.</p>
<p>Let’s wait for a couple of epochs to enter in the buffer, and then let’s convert the
array to an MNE-Python <a class="reference external" href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs" title="(in MNE v1.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Epochs</span></code></a> object and plot the evoked response.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.n_new_epochs" title="mne_lsl.stream.EpochsStream.n_new_epochs" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">n_new_epochs</span></a> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <a href="https://docs.python.org/3/library/time.html#time.sleep" title="time.sleep" class="sphx-glr-backref-module-time sphx-glr-backref-type-py-function"><span class="n">time</span><span class="o">.</span><span class="n">sleep</span></a><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a> <span class="o">=</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.get_data" title="mne_lsl.stream.EpochsStream.get_data" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">epochs</span><span class="o">.</span><span class="n">get_data</span></a><span class="p">(</span><span class="n">n_epochs</span><span class="o">=</span><a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.n_new_epochs" title="mne_lsl.stream.EpochsStream.n_new_epochs" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">n_new_epochs</span></a><span class="p">)</span>
<a href="https://mne.tools/stable/generated/mne.EpochsArray.html#mne.EpochsArray" title="mne.EpochsArray" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">epochs_mne</span></a> <span class="o">=</span> <a href="https://mne.tools/stable/generated/mne.EpochsArray.html#mne.EpochsArray" title="mne.EpochsArray" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class"><span class="n">EpochsArray</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a><span class="p">,</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.info" title="mne_lsl.stream.EpochsStream.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">info</span></a><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="s2">&quot;WARNING&quot;</span><span class="p">)</span>
<a href="https://mne.tools/stable/generated/mne.EpochsArray.html#mne.EpochsArray.average" title="mne.EpochsArray.average" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-method"><span class="n">epochs_mne</span><span class="o">.</span><span class="n">average</span></a><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_40_epochs_001.png" srcset="../../_images/sphx_glr_40_epochs_001.png" alt="Gradiometers (203 channels)" class = "sphx-glr-single-img"/><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.disconnect" title="mne_lsl.stream.EpochsStream.disconnect" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">epochs</span><span class="o">.</span><span class="n">disconnect</span></a><span class="p">()</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.disconnect" title="mne_lsl.stream.StreamLSL.disconnect" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">stream</span><span class="o">.</span><span class="n">disconnect</span></a><span class="p">()</span>
<a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL.stop" title="mne_lsl.player.PlayerLSL.stop" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-method"><span class="n">player</span><span class="o">.</span><span class="n">stop</span></a><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Player: tutorial-epochs-1 | OFF | /home/runner/mne_data/MNE-LSL-data/sample/mne-sample/sample_audvis_raw.fif&gt;
</pre></div>
</div>
</section>
<section id="irregularly-sampled-stream">
<h2>Irregularly sampled stream<a class="headerlink" href="#irregularly-sampled-stream" title="Link to this heading">🔗</a></h2>
<p>The event source can also be an irregularly sampled stream. In this case, each channel
represents a separate event. A new value entering the buffer of a channel is
interpreted as an event, regardless of the value itself. For instance, we can fake
an irregularly sampled numerical stream using a <a class="reference internal" href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL" title="mne_lsl.player.PlayerLSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlayerLSL</span></code></a>
with a <a class="reference external" href="https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw" title="(in MNE v1.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Raw</span></code></a> object which has <a class="reference external" href="https://mne.tools/stable/generated/mne.Annotations.html#mne.Annotations" title="(in MNE v1.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotations</span></code></a> attached to it.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span></a> <span class="o">=</span> <a href="https://mne.tools/stable/generated/mne.find_events.html#mne.find_events" title="mne.find_events" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-function"><span class="n">find_events</span></a><span class="p">(</span><a href="https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a><span class="p">,</span> <span class="n">stim_channel</span><span class="o">=</span><span class="s2">&quot;STI 014&quot;</span><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span></a> <span class="o">=</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span></a><span class="p">[</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.isin.html#numpy.isin" title="numpy.isin" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">isin</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span></a><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))]</span>  <span class="c1"># keep only events with ID 1 and 2</span>
<a href="https://mne.tools/stable/generated/mne.Annotations.html#mne.Annotations" title="mne.Annotations" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">annotations</span></a> <span class="o">=</span> <a href="https://mne.tools/stable/generated/mne.annotations_from_events.html#mne.annotations_from_events" title="mne.annotations_from_events" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-function"><span class="n">annotations_from_events</span></a><span class="p">(</span>
    <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span></a><span class="p">,</span>
    <a href="https://mne.tools/stable/generated/mne.Info.html#mne.Info" title="mne._fiff.meas_info.Info" class="sphx-glr-backref-module-mne-_fiff-meas_info sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;sfreq&quot;</span><span class="p">],</span>
    <span class="n">event_desc</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;event&quot;</span><span class="p">},</span>
    <span class="n">first_samp</span><span class="o">=</span><a href="https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw.first_samp" title="mne.io.Raw.first_samp" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-property"><span class="n">raw</span><span class="o">.</span><span class="n">first_samp</span></a><span class="p">,</span>
<span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">annotations</span><span class="o">.</span><span class="n">duration</span></a> <span class="o">+=</span> <span class="mf">0.1</span>  <span class="c1"># set duration since annotations_from_events sets it to 0</span>
<a href="https://mne.tools/stable/generated/mne.Annotations.html#mne.Annotations" title="mne.Annotations" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">annotations</span></a>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Annotations | 143 segments: event (72), ignore (71)&gt;
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw.set_annotations" title="mne.io.Raw.set_annotations" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-method"><span class="n">raw</span><span class="o">.</span><span class="n">set_annotations</span></a><span class="p">(</span><a href="https://mne.tools/stable/generated/mne.Annotations.html#mne.Annotations" title="mne.Annotations" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">annotations</span></a><span class="p">)</span>
<a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL" title="mne_lsl.player.PlayerLSL" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">player</span></a> <span class="o">=</span> <a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL" title="mne_lsl.player.PlayerLSL" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-class"><span class="n">PlayerLSL</span></a><span class="p">(</span>
    <a href="https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a><span class="p">,</span> <span class="n">chunk_size</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tutorial-epochs-2&quot;</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="p">,</span> <a href="https://mne.tools/stable/generated/mne.Annotations.html#mne.Annotations" title="mne.Annotations" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">annotations</span></a><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL.info" title="mne_lsl.player.PlayerLSL.info" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-property"><span class="n">player</span><span class="o">.</span><span class="n">info</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<details open>
    <summary><strong>General</strong></summary>
    <table class="table table-hover table-striped table-sm table-responsive small">
        <tr>
            <th>Measurement date</th>

            <td>December 03, 2002  19:01:10 GMT</td>

        </tr>
        <tr>
            <th>Experimenter</th>

            <td>MEG</td>

        </tr>
        <tr>
            <th>Participant</th>

            <td>Unknown</td>

        </tr>
    </table>
    </details>
    <details open>
        <summary><strong>Channels</strong></summary>
        <table class="table table-hover table-striped table-sm table-responsive small">
            <tr>
                <th>Digitized points</th>

                <td>146 points</td>

            </tr>
            <tr>
                <th>Good channels</th>
                <td>203 Gradiometers, 102 Magnetometers, 9 Stimulus</td>
            </tr>
            <tr>
                <th>Bad channels</th>
                <td>MEG 2443</td>
            </tr>
            <tr>
                <th>EOG channels</th>
                <td>Not available</td>
            </tr>
            <tr>
                <th>ECG channels</th>
                <td>Not available</td>
            </tr>
        </table>
        </details>
        <details open>
            <summary><strong>Data</strong></summary>
            <table class="table table-hover table-striped table-sm table-responsive small">

                <tr>
                    <th>Sampling frequency</th>
                    <td>600.61 Hz</td>
                </tr>


                <tr>
                    <th>Highpass</th>
                    <td>0.10 Hz</td>
                </tr>


                <tr>
                    <th>Lowpass</th>
                    <td>172.18 Hz</td>
                </tr>


                <tr>
                    <th>Projections</th>
                    <td>PCA-v1 : off<br />PCA-v2 : off<br />PCA-v3 : off</td>
                </tr>



            </table>
            </details>
</div>
<br />
<br /><p>We now have 2 LSL stream availables on the network, one of which is an irregularly
sampled numerical streams of events.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.lsl.resolve_streams.html#mne_lsl.lsl.resolve_streams" title="mne_lsl.lsl.resolve_streams" class="sphx-glr-backref-module-mne_lsl-lsl sphx-glr-backref-type-py-function"><span class="n">resolve_streams</span></a><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&lt; sInfo &#39;tutorial-epochs-2&#39; &gt;
  | Sampling: 600.614990234375 Hz
  | Number of channels: 315
  | Data type: &lt;class &#39;numpy.float64&#39;&gt;
  | Source: ed4cebda26e4413d8b04de15d9e477af
, &lt; sInfo &#39;tutorial-epochs-2-annotations&#39; &gt;
  | Type: annotations
  | Sampling: Irregular
  | Number of channels: 2
  | Data type: &lt;class &#39;numpy.float64&#39;&gt;
  | Source: ed4cebda26e4413d8b04de15d9e477af
]
</pre></div>
</div>
<p>We can now create a <a class="reference internal" href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamLSL</span></code></a> object for each available
stream on the network.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">stream</span></a> <span class="o">=</span> <a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class"><span class="n">StreamLSL</span></a><span class="p">(</span><span class="n">bufsize</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tutorial-epochs-2&quot;</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="p">)</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.connect" title="mne_lsl.stream.StreamLSL.connect" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">stream</span><span class="o">.</span><span class="n">connect</span></a><span class="p">(</span><span class="n">acquisition_delay</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">processing_flags</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.info" title="mne_lsl.stream.StreamLSL.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">stream</span><span class="o">.</span><span class="n">info</span></a><span class="p">[</span><span class="s2">&quot;bads&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;MEG 2443&quot;</span><span class="p">]</span>  <span class="c1"># remove bad channel</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.filter" title="mne_lsl.stream.StreamLSL.filter" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">stream</span><span class="o">.</span><span class="n">filter</span></a><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">picks</span><span class="o">=</span><span class="s2">&quot;grad&quot;</span><span class="p">)</span>  <span class="c1"># filter signal</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.info" title="mne_lsl.stream.StreamLSL.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">stream</span><span class="o">.</span><span class="n">info</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<details open>
    <summary><strong>General</strong></summary>
    <table class="table table-hover table-striped table-sm table-responsive small">
        <tr>
            <th>Measurement date</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Experimenter</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Participant</th>

            <td>Unknown</td>

        </tr>
    </table>
    </details>
    <details open>
        <summary><strong>Channels</strong></summary>
        <table class="table table-hover table-striped table-sm table-responsive small">
            <tr>
                <th>Digitized points</th>

                <td>146 points</td>

            </tr>
            <tr>
                <th>Good channels</th>
                <td>203 Gradiometers, 102 Magnetometers, 9 Stimulus</td>
            </tr>
            <tr>
                <th>Bad channels</th>
                <td>MEG 2443</td>
            </tr>
            <tr>
                <th>EOG channels</th>
                <td>Not available</td>
            </tr>
            <tr>
                <th>ECG channels</th>
                <td>Not available</td>
            </tr>
        </table>
        </details>
        <details open>
            <summary><strong>Data</strong></summary>
            <table class="table table-hover table-striped table-sm table-responsive small">

                <tr>
                    <th>Sampling frequency</th>
                    <td>600.61 Hz</td>
                </tr>


                <tr>
                    <th>Highpass</th>
                    <td>0.10 Hz</td>
                </tr>


                <tr>
                    <th>Lowpass</th>
                    <td>172.18 Hz</td>
                </tr>


                <tr>
                    <th>Projections</th>
                    <td>PCA-v1 : off<br />PCA-v2 : off<br />PCA-v3 : off</td>
                </tr>



            </table>
            </details>
</div>
<br />
<br /><div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">stream_events</span></a> <span class="o">=</span> <a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class"><span class="n">StreamLSL</span></a><span class="p">(</span>
    <span class="n">bufsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tutorial-epochs-2-annotations&quot;</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">source_id</span></a>
<span class="p">)</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.connect" title="mne_lsl.stream.StreamLSL.connect" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">stream_events</span><span class="o">.</span><span class="n">connect</span></a><span class="p">(</span><span class="n">acquisition_delay</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">processing_flags</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.info" title="mne_lsl.stream.StreamLSL.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">stream_events</span><span class="o">.</span><span class="n">info</span></a>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<details open>
    <summary><strong>General</strong></summary>
    <table class="table table-hover table-striped table-sm table-responsive small">
        <tr>
            <th>Measurement date</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Experimenter</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Participant</th>

            <td>Unknown</td>

        </tr>
    </table>
    </details>
    <details open>
        <summary><strong>Channels</strong></summary>
        <table class="table table-hover table-striped table-sm table-responsive small">
            <tr>
                <th>Digitized points</th>

                <td>Not available</td>

            </tr>
            <tr>
                <th>Good channels</th>
                <td>2 misc</td>
            </tr>
            <tr>
                <th>Bad channels</th>
                <td>None</td>
            </tr>
            <tr>
                <th>EOG channels</th>
                <td>Not available</td>
            </tr>
            <tr>
                <th>ECG channels</th>
                <td>Not available</td>
            </tr>
        </table>
        </details>
        <details open>
            <summary><strong>Data</strong></summary>
            <table class="table table-hover table-striped table-sm table-responsive small">

                <tr>
                    <th>Sampling frequency</th>
                    <td>0.00 Hz</td>
                </tr>


                <tr>
                    <th>Highpass</th>
                    <td>0.00 Hz</td>
                </tr>


                <tr>
                    <th>Lowpass</th>
                    <td>0.00 Hz</td>
                </tr>




            </table>
            </details>
</div>
<br />
<br /><p>Let’s first inspect the event stream once a couple of samples have been acquired.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.n_new_samples" title="mne_lsl.stream.StreamLSL.n_new_samples" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">stream_events</span><span class="o">.</span><span class="n">n_new_samples</span></a> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
    <a href="https://docs.python.org/3/library/time.html#time.sleep" title="time.sleep" class="sphx-glr-backref-module-time sphx-glr-backref-type-py-function"><span class="n">time</span><span class="o">.</span><span class="n">sleep</span></a><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ts</span></a> <span class="o">=</span> <a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.get_data" title="mne_lsl.stream.StreamLSL.get_data" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">stream_events</span><span class="o">.</span><span class="n">get_data</span></a><span class="p">(</span><span class="n">winsize</span><span class="o">=</span><a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.n_new_samples" title="mne_lsl.stream.StreamLSL.n_new_samples" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">stream_events</span><span class="o">.</span><span class="n">n_new_samples</span></a><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Array of shape (n_channels, n_samples): &quot;</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span><span class="o">.</span><span class="n">shape</span></a><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Array of shape (n_channels, n_samples):  (2, 3)

array([[0.1, 0. , 0.1],
       [0. , 0.1, 0. ]])
</pre></div>
</div>
<p>Each channel corresponds to a given annotation, <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">'ignore'</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code> to
<code class="docutils literal notranslate"><span class="pre">'event'</span></code>. The value is <code class="docutils literal notranslate"><span class="pre">0</span></code> when no annotation is present, and <code class="docutils literal notranslate"><span class="pre">x</span></code> when an
annotation is present, with <code class="docutils literal notranslate"><span class="pre">x</span></code> being the duration of the annotation.</p>
<p>Thus, this array can be interpreted as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span>
      <span class="p">[</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.</span> <span class="p">]])</span>
</pre></div>
</div>
<ul class="simple">
<li><p>An annotation of 0.1 seconds labelled <code class="docutils literal notranslate"><span class="pre">'ignore'</span></code> was received at <code class="docutils literal notranslate"><span class="pre">ts[0]</span></code>.</p></li>
<li><p>An annotation of 0.1 seconds labelled <code class="docutils literal notranslate"><span class="pre">'event'</span></code> was received at <code class="docutils literal notranslate"><span class="pre">ts[1]</span></code>.</p></li>
<li><p>An annotation of 0.1 seconds labelled <code class="docutils literal notranslate"><span class="pre">'ignore'</span></code> was received at <code class="docutils literal notranslate"><span class="pre">ts[2]</span></code>.</p></li>
</ul>
<p>We can now use those 2 streams to create epochs around the events of interest.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">epochs</span></a> <span class="o">=</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class"><span class="n">EpochsStream</span></a><span class="p">(</span>
    <a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">stream</span></a><span class="p">,</span>
    <span class="n">bufsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>  <span class="c1"># number of epoch held in the buffer</span>
    <span class="n">event_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">event_channels</span><span class="o">=</span><span class="s2">&quot;event&quot;</span><span class="p">,</span>  <span class="c1"># this argument now selects the events of interest</span>
    <span class="n">event_stream</span><span class="o">=</span><a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">stream_events</span></a><span class="p">,</span>
    <span class="n">tmin</span><span class="o">=-</span><span class="mf">0.2</span><span class="p">,</span>
    <span class="n">tmax</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">baseline</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">picks</span><span class="o">=</span><span class="s2">&quot;grad&quot;</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">acquisition_delay</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.info" title="mne_lsl.stream.EpochsStream.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">info</span></a>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/mne-lsl/mne-lsl/tutorials/40_epochs.py:216: RuntimeWarning: The EpochsStream is already disconnected. Skipping.
  epochs = EpochsStream(
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<details open>
    <summary><strong>General</strong></summary>
    <table class="table table-hover table-striped table-sm table-responsive small">
        <tr>
            <th>Measurement date</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Experimenter</th>

            <td>Unknown</td>

        </tr>
        <tr>
            <th>Participant</th>

            <td>Unknown</td>

        </tr>
    </table>
    </details>
    <details open>
        <summary><strong>Channels</strong></summary>
        <table class="table table-hover table-striped table-sm table-responsive small">
            <tr>
                <th>Digitized points</th>

                <td>146 points</td>

            </tr>
            <tr>
                <th>Good channels</th>
                <td>203 Gradiometers</td>
            </tr>
            <tr>
                <th>Bad channels</th>
                <td>None</td>
            </tr>
            <tr>
                <th>EOG channels</th>
                <td>Not available</td>
            </tr>
            <tr>
                <th>ECG channels</th>
                <td>Not available</td>
            </tr>
        </table>
        </details>
        <details open>
            <summary><strong>Data</strong></summary>
            <table class="table table-hover table-striped table-sm table-responsive small">

                <tr>
                    <th>Sampling frequency</th>
                    <td>600.61 Hz</td>
                </tr>


                <tr>
                    <th>Highpass</th>
                    <td>0.10 Hz</td>
                </tr>


                <tr>
                    <th>Lowpass</th>
                    <td>172.18 Hz</td>
                </tr>




            </table>
            </details>
</div>
<br />
<br /><p>Let’s wait for a couple of epochs to enter in the buffer, and then let’s convert the
array to an MNE-Python <a class="reference external" href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs" title="(in MNE v1.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Epochs</span></code></a> object and plot the time-frequency
representation of the evoked response.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.n_new_epochs" title="mne_lsl.stream.EpochsStream.n_new_epochs" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">n_new_epochs</span></a> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <a href="https://docs.python.org/3/library/time.html#time.sleep" title="time.sleep" class="sphx-glr-backref-module-time sphx-glr-backref-type-py-function"><span class="n">time</span><span class="o">.</span><span class="n">sleep</span></a><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a> <span class="o">=</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.get_data" title="mne_lsl.stream.EpochsStream.get_data" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">epochs</span><span class="o">.</span><span class="n">get_data</span></a><span class="p">(</span><span class="n">n_epochs</span><span class="o">=</span><a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.n_new_epochs" title="mne_lsl.stream.EpochsStream.n_new_epochs" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">n_new_epochs</span></a><span class="p">)</span>
<a href="https://mne.tools/stable/generated/mne.EpochsArray.html#mne.EpochsArray" title="mne.EpochsArray" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">epochs_mne</span></a> <span class="o">=</span> <a href="https://mne.tools/stable/generated/mne.EpochsArray.html#mne.EpochsArray" title="mne.EpochsArray" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class"><span class="n">EpochsArray</span></a><span class="p">(</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a><span class="p">,</span> <a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.info" title="mne_lsl.stream.EpochsStream.info" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">info</span></a><span class="p">,</span> <span class="n">tmin</span><span class="o">=-</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="s2">&quot;WARNING&quot;</span><span class="p">)</span>
<a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">freqs</span></a> <span class="o">=</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.arange.html#numpy.arange" title="numpy.arange" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-function"><span class="n">np</span><span class="o">.</span><span class="n">arange</span></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<a href="https://mne.tools/stable/generated/mne.time_frequency.AverageTFR.html#mne.time_frequency.AverageTFR" title="mne.time_frequency.AverageTFR" class="sphx-glr-backref-module-mne-time_frequency sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tfr</span></a> <span class="o">=</span> <a href="https://mne.tools/stable/generated/mne.EpochsArray.html#mne.EpochsArray.average" title="mne.EpochsArray.average" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-method"><span class="n">epochs_mne</span><span class="o">.</span><span class="n">average</span></a><span class="p">()</span><span class="o">.</span><span class="n">compute_tfr</span><span class="p">(</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;multitaper&quot;</span><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">freqs</span></a><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">freqs</span></a><span class="p">,</span> <span class="n">n_cycles</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">freqs</span></a> <span class="o">/</span> <span class="mi">2</span>
<span class="p">)</span>
<a href="https://mne.tools/stable/generated/mne.time_frequency.AverageTFR.html#mne.time_frequency.AverageTFR.plot" title="mne.time_frequency.AverageTFR.plot" class="sphx-glr-backref-module-mne-time_frequency sphx-glr-backref-type-py-method"><span class="n">tfr</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span><span class="n">baseline</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">combine</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_40_epochs_002.png" srcset="../../_images/sphx_glr_40_epochs_002.png" alt="40 epochs" class = "sphx-glr-single-img"/><p>Let’s compare this to a <a class="reference external" href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs" title="(in MNE v1.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Epochs</span></code></a> object created from the same number of
events offline.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The same epochs were not selected between the offline and online processing.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs" title="mne.Epochs" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">epochs_offline</span></a> <span class="o">=</span> <a href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs" title="mne.Epochs" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-class"><span class="n">Epochs</span></a><span class="p">(</span>
    <a href="https://mne.tools/stable/generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw" class="sphx-glr-backref-module-mne-io sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">raw</span></a><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">events</span></a><span class="p">,</span> <span class="n">event_id</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span> <span class="n">baseline</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">picks</span><span class="o">=</span><span class="s2">&quot;grad&quot;</span><span class="p">,</span> <span class="n">preload</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<a href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs.filter" title="mne.Epochs.filter" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-method"><span class="n">epochs_offline</span><span class="o">.</span><span class="n">filter</span></a><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<a href="https://mne.tools/stable/generated/mne.time_frequency.AverageTFR.html#mne.time_frequency.AverageTFR" title="mne.time_frequency.AverageTFR" class="sphx-glr-backref-module-mne-time_frequency sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">tfr</span></a> <span class="o">=</span> <a href="https://mne.tools/stable/generated/mne.Epochs.html#mne.Epochs.average" title="mne.Epochs.average" class="sphx-glr-backref-module-mne sphx-glr-backref-type-py-method"><span class="n">epochs_offline</span><span class="o">.</span><span class="n">average</span></a><span class="p">()</span><span class="o">.</span><span class="n">compute_tfr</span><span class="p">(</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;multitaper&quot;</span><span class="p">,</span> <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">freqs</span></a><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">freqs</span></a><span class="p">,</span> <span class="n">n_cycles</span><span class="o">=</span><a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="numpy.ndarray" class="sphx-glr-backref-module-numpy sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">freqs</span></a> <span class="o">/</span> <span class="mi">2</span>
<span class="p">)</span>
<a href="https://mne.tools/stable/generated/mne.time_frequency.AverageTFR.html#mne.time_frequency.AverageTFR.plot" title="mne.time_frequency.AverageTFR.plot" class="sphx-glr-backref-module-mne-time_frequency sphx-glr-backref-type-py-method"><span class="n">tfr</span><span class="o">.</span><span class="n">plot</span></a><span class="p">(</span><span class="n">baseline</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">combine</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
<a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.show.html#matplotlib.pyplot.show" title="matplotlib.pyplot.show" class="sphx-glr-backref-module-matplotlib-pyplot sphx-glr-backref-type-py-function"><span class="n">plt</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../../_images/sphx_glr_40_epochs_003.png" srcset="../../_images/sphx_glr_40_epochs_003.png" alt="40 epochs" class = "sphx-glr-single-img"/><p>Finally, in this case a single event was kept in the
<a class="reference internal" href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">EpochsStream</span></code></a>, but if more events are retained, it is
important to know which one is which. This information is stored in the property
<a class="reference internal" href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.events" title="mne_lsl.stream.EpochsStream.events"><code class="xref py py-attr docutils literal notranslate"><span class="pre">events</span></code></a> of the
<a class="reference internal" href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">EpochsStream</span></code></a>, which is an internal buffer of the event codes.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.events" title="mne_lsl.stream.EpochsStream.events" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-property"><span class="n">epochs</span><span class="o">.</span><span class="n">events</span></a>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      dtype=int16)
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the case of an irregularly sampled event stream, the event code represents the
channel idx within the event stream.</p>
</div>
</section>
<section id="free-resources">
<h2>Free resources<a class="headerlink" href="#free-resources" title="Link to this heading">🔗</a></h2>
<p>When you are done with a <a class="reference internal" href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL" title="mne_lsl.player.PlayerLSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlayerLSL</span></code></a>, a
<a class="reference internal" href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL" title="mne_lsl.stream.StreamLSL"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamLSL</span></code></a> or a <a class="reference internal" href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream" title="mne_lsl.stream.EpochsStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">EpochsStream</span></code></a> don’t
forget to free the resources they use to continuously mock an LSL stream or
receive new data from an LSL stream.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.EpochsStream.html#mne_lsl.stream.EpochsStream.disconnect" title="mne_lsl.stream.EpochsStream.disconnect" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">epochs</span><span class="o">.</span><span class="n">disconnect</span></a><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;EpochsStream OFF (n: 20 between (-0.2, 0.5) seconds&gt; connected to:
    &lt;Stream: ON | tutorial-epochs-2 (source: ed4cebda26e4413d8b04de15d9e477af)&gt;
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.stream.StreamLSL.html#mne_lsl.stream.StreamLSL.disconnect" title="mne_lsl.stream.StreamLSL.disconnect" class="sphx-glr-backref-module-mne_lsl-stream sphx-glr-backref-type-py-method"><span class="n">stream</span><span class="o">.</span><span class="n">disconnect</span></a><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Stream: OFF | tutorial-epochs-2 (source: ed4cebda26e4413d8b04de15d9e477af)&gt;
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="../api/mne_lsl.player.PlayerLSL.html#mne_lsl.player.PlayerLSL.stop" title="mne_lsl.player.PlayerLSL.stop" class="sphx-glr-backref-module-mne_lsl-player sphx-glr-backref-type-py-method"><span class="n">player</span><span class="o">.</span><span class="n">stop</span></a><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Player: tutorial-epochs-2 | OFF | /home/runner/mne_data/MNE-LSL-data/sample/mne-sample/sample_audvis_raw.fif&gt;
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 52.326 seconds)</p>
<p><strong>Estimated memory usage:</strong>  745 MB</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-generated-tutorials-40-epochs-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/7cc2044d6cc29c97ba191c7c6bf1c2b7/40_epochs.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">40_epochs.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/2d736980625d98437c359cae45dc7a95/40_epochs.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">40_epochs.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/8bc4fe3f053c4f01470bee56da0e54d1/40_epochs.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">40_epochs.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../examples/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Examples</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="30_stream_manual.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Automatic vs Manual acquisition</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, M. Scheltienne, A. Desvachez, K. Lee
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/mne-tools/mne-lsl" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Epoching a Stream in real-time</a><ul>
<li><a class="reference internal" href="#event-source">Event source</a></li>
<li><a class="reference internal" href="#set-of-stim-channels">Set of <code class="docutils literal notranslate"><span class="pre">'stim'</span></code> channels</a></li>
<li><a class="reference internal" href="#irregularly-sampled-stream">Irregularly sampled stream</a></li>
<li><a class="reference internal" href="#free-resources">Free resources</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=e0a75244"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=30646c52"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    </body>
</html>